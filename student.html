<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Leave Management System Dashboard</title>
    <link rel="stylesheet" href="student.css" />
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200"
    />
  </head>

  <body>
    <div class="container">
      <aside class="sidebar">
        <div class="sidebar-header">
          <h2>LeaveHub</h2>
        </div>
        <nav class="sidebar-nav">
          <ul>
            <li><a href="#" id="home-id">Home</a></li>
            <li><a href="#" id="manage-users-id">Manage Users</a></li>
            <li>
              <a href="#" id="manage-leaves-id">Manage Leaves</a>
              <ul id="leaves-sublist">
                <li><a href="#" id="apply-leave-id">Apply leave</a></li>
                <li><a href="#" id="my-leave-id">My leave</a></li>
              </ul>
            </li>
            <li><a href="#" id="change-password-id">Change password</a></li>
          </ul>
        </nav>
        <div class="sidebar-footer">
          <div class="user-info">
            <img src="profile.jpg" alt="User Profile Picture" />
            <div>
              <h3>Employee Name</h3>
              <p>HR Specialist</p>
            </div>
          </div>
        </div>
      </aside>
      <main class="main-content">
        <section class="home" id="home-section">
          <div class="wrapper">
            <header>
              <p class="current-date"></p>
              <div class="icons">
                <span id="prev" class="material-symbols-outlined">chevron_left</span>
                <span id="next" class="material-symbols-outlined">chevron_right</span>
              </div>
            </header>
            <div class="calendar">
              <ul class="weeks">
                <li>Sun</li>
                <li>Mon</li>
                <li>Tue</li>
                <li>Wed</li>
                <li>Thu</li>
                <li>Fri</li>
                <li>Sat</li>
              </ul>
              <ul class="days"></ul>
            </div>
          </div>
          <!-- <header class="header">
                    <h1>My leave summary</h1>
                    <button class="create-leave-btn">+ Create leave request</button>
                </header>
                <section class="leave-balance">
                    <div class="leave-type">
                        <h2>Annual leaves</h2>
                        <p>12 days available</p>
                        <p>2 days taken</p>
                    </div>
                    <div class="leave-type">
                        <h2>Casual leaves</h2>
                        <p>12 days available</p>
                        <p>2 days taken</p>
                    </div>
                    <div class="leave-type">
                        <h2>Medical leaves</h2>
                        <p>12 days available</p>
                        <p>2 days taken</p>
                    </div>
                    <div class="leave-type">
                        <h2>Study leaves</h2>
                        <p>0 days available</p>
                        <p>0 days taken</p>
                    </div>
                </section>
                <section class="upcoming-leaves">
                    <h2>Upcoming leaves</h2>
                    <table>
                        <thead>
                            <tr>
                                <th>Leave type</th>
                                <th>Period</th>
                                <th>Days</th>
                                <th>Reason</th>
                                <th>Status</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Casual</td>
                                <td>13 Aug, 2022 - 14 Aug, 2022</td>
                                <td>2</td>
                                <td>Personal commitment</td>
                                <td>Approved</td>
                            </tr>
                            <tr>
                                <td>Medical</td>
                                <td>20 Aug, 2022 - 21 Aug, 2022</td>
                                <td>2</td>
                                <td>Fever</td>
                                <td>Approved</td>
                            </tr>
                            <tr>
                                <td>Casual</td>
                                <td>10 Oct, 2022</td>
                                <td>1</td>
                                <td>--</td>
                                <td>Approved</td>
                            </tr>
                            <tr>
                                <td>Study</td>
                                <td>13 Dec, 2022 - 17 Dec, 2022</td>
                                <td>5</td>
                                <td>Vacation</td>
                                <td>Approved</td>
                            </tr>
                            <tr>
                                <td>Short</td>
                                <td>24 Dec, 2022</td>
                                <td>1</td>
                                <td>--</td>
                                <td>Approved</td>
                            </tr>
                        </tbody>
                    </table>
                </section> -->
        </section>
        <section class="upcoming-leaves" id="manage-users-section">
          <div id="actions">
            <table>
              <thead>
                <tr>
                  <th>NAME</th>
                  <th>E-MAIL</th>
                  <th>ROLE</th>
                  <th>ACTION</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>Surya R</td>
                  <td>surya@gmail.com</td>
                  <td>project manager</td>
                  <td>
                    <span class="material-symbols-outlined"> note_alt </span>
                    <span class="material-symbols-outlined"> block </span>
                    <span class="material-symbols-outlined"> delete </span>
                  </td>
                </tr>
                <tr>
                  <td>Swetha PS</td>
                  <td>swetha@gmail.com</td>
                  <td>Employee</td>
                  <td>
                    <span class="material-symbols-outlined"> note_alt </span>
                    <span class="material-symbols-outlined"> block </span>
                    <span class="material-symbols-outlined"> delete </span>
                  </td>
                </tr>
                <tr>
                  <td>Siva</td>
                  <td>Siva@gmail.com</td>
                  <td>Employee</td>
                  <td>
                    <span class="material-symbols-outlined"> note_alt </span>
                    <span class="material-symbols-outlined"> block </span>
                    <span class="material-symbols-outlined"> delete </span>
                  </td>
                </tr>
              </tbody>
            </table>
            <div class="button">
            <button id="edit-user-button" class="create-leave-btn">Edit User</button>
        </div>
          </div>

          

          <div id="edit-user">

            <div class="button">
                <button id="back" class="create-leave-btn">Back</button>
            </div>

            <h1>Edit User: @swethasasi5404@gmail.com</h1>
            <table>
            <tr>
                <td> <label for="First Name">First Name :</label> </td>
                <td> <input placeholder="Name" type="text"> </td>
            </tr>

            <tr>
                <td><label for="Last Name">Last Name :</label></td>
                <td><input type="text" placeholder="initial"></td>
            </tr>

            <tr>
              <td><label for="E-MAIL">E-mail :</label></td>
              <td><input placeholder="E-mail" type="email"></td>
            </tr>

            <tr>
             <td><label for="Password">Password :</label></td>
             <td><input placeholder="Password" type="password"> </td>
            </tr>

            <tr>
                <td><label for="role">Role:</label></td>
                <td><input name="admin" type="radio">ADMIN</td>
                <td><input name="admin" type="radio">EDITOR</td>
            </tr>
            
        </table>
        <div class="button" >
                <input type="submit" value="SAVE" class="create-leave-btn">
                <input type="submit" value="CANCEL" class="create-leave-btn">
            </div>
          </div> 
        </section>
        <section class="apply-leave" id="apply-leave-section">
          <div>
            <h2>Apply Leave Division</h2>
          </div>
        </section>
        <section class="my-leave" id="my-leave-section">
          <div>
            <h2>My Leave Division</h2>
          </div>
        </section>
        <section class="upcoming-leaves" id="change-password-section">
          <div>
            <table>
            <h2>Change Password</h2> 
             <tr>
                <td><label for="Current-password">Current-password:</label></td>
                <td><input type="text"></td>
            </tr>

            <tr>
                <td><label for="New-password">New-password:</label></td>
                <td><input type="text"></td>
            </tr>

            <tr>
                <td><label for="Re-Enter New password">Re-Enter New password:</label></td>
                <td><input type="text"></td>
            </tr>

        </table>
        <div class="button" >
            <input type="submit" value="CHANGE PASSWORD" class="create-leave-btn">
            <input type="submit" value="CANCEL" class="create-leave-btn">
        </div>
          </div>
        </section>
      </main>
    </div>

    <script>
      function showSection(sectionId) {
        const sections = document.querySelectorAll("main > section");
        sections.forEach((section) => {
          section.style.display = "none";
        });
        document.getElementById(sectionId).style.display = "block";
      }

      function setActiveClass(element) {
        const navItems = document.querySelectorAll(".sidebar-nav ul li");
        navItems.forEach((item) => {
          item.classList.remove("active");
        });
        element.classList.add("active");
      }

      document
        .getElementById("home-id")
        .addEventListener("click", function (event) {
          event.preventDefault();
          showSection("home-section");
          setActiveClass(this.parentElement);
        });

      document
        .getElementById("manage-users-id")
        .addEventListener("click", function (event) {
          event.preventDefault();
          showSection("manage-users-section");
          setActiveClass(this.parentElement);
        });

      document
        .getElementById("manage-leaves-id")
        .addEventListener("click", function (event) {
          event.preventDefault();
          var sublist = document.getElementById("leaves-sublist");
          if (
            sublist.style.display === "none" ||
            sublist.style.display === ""
          ) {
            sublist.style.display = "block";
          } else {
            sublist.style.display = "none";
          }
          setActiveClass(this.parentElement);
        });

      document
        .getElementById("apply-leave-id")
        .addEventListener("click", function (event) {
          event.preventDefault();
          showSection("apply-leave-section");
          setActiveClass(this.parentElement.parentElement.parentElement);
        });

      document
        .getElementById("my-leave-id")
        .addEventListener("click", function (event) {
          event.preventDefault();
          showSection("my-leave-section");
          setActiveClass(this.parentElement.parentElement.parentElement);
        });

      document
        .getElementById("change-password-id")
        .addEventListener("click", function (event) {
          event.preventDefault();
          showSection("change-password-section");
          setActiveClass(this.parentElement);
        });

      showSection("home-section");

      const daysTag = document.querySelector(".days"),
        currentDate = document.querySelector(".current-date"),
        prevNextIcon = document.querySelectorAll(".icons span");

      let date = new Date(),
        currYear = date.getFullYear(),
        currMonth = date.getMonth();

      const months = [
        "January",
        "February",
        "March",
        "April",
        "May",
        "June",
        "July",
        "August",
        "September",
        "October",
        "November",
        "December",
      ];

      const renderCalendar = () => {
        let firstDayofMonth = new Date(currYear, currMonth, 1).getDay(),
          lastDateofMonth = new Date(currYear, currMonth + 1, 0).getDate(),
          lastDayofMonth = new Date(
            currYear,
            currMonth,
            lastDateofMonth
          ).getDay(),
          lastDateofLastMonth = new Date(currYear, currMonth, 0).getDate();
        let liTag = "";

        for (let i = firstDayofMonth; i > 0; i--) {
          liTag += `<li class="inactive">${lastDateofLastMonth - i + 1}</li>`;
        }

        for (let i = 1; i <= lastDateofMonth; i++) {
          let isToday =
            i === date.getDate() &&
            currMonth === new Date().getMonth() &&
            currYear === new Date().getFullYear()
              ? "active"
              : "";
          liTag += `<li class="${isToday}">${i}</li>`;
        }

        for (let i = lastDayofMonth; i < 6; i++) {
          liTag += `<li class="inactive">${i - lastDayofMonth + 1}</li>`;
        }
        currentDate.innerText = `${months[currMonth]} ${currYear}`;
        daysTag.innerHTML = liTag;
      };
      renderCalendar();

      prevNextIcon.forEach((icon) => {
        icon.addEventListener("click", () => {
          currMonth = icon.id === "prev" ? currMonth - 1 : currMonth + 1;

          if (currMonth < 0 || currMonth > 11) {
            date = new Date(currYear, currMonth, new Date().getDate());
            currYear = date.getFullYear();
            currMonth = date.getMonth();
          } else {
            date = new Date();
          }
          renderCalendar();
        });
      });

      document.getElementById('edit-user-button').addEventListener('click',function(event){
        event.preventDefault();
        var edit = document.getElementById('edit-user');
        var action = document.getElementById('actions');
        if(edit.style.display==='none'|| edit.style.display===''){
            edit.style.display='block';
            action.style.display='none';
        } 
        // else{
        //     edit.style.display='none';
        //     action.style.display='block';
        // }
        setActiveClass(this.parentElement);
      });
      document.getElementById('back').addEventListener('click',function(event){
        event.preventDefault();
        var edit = document.getElementById('edit-user');
        var action = document.getElementById('actions');
        if(edit.style.display==='block'){
            edit.style.display='none';
            action.style.display='block';
        } 
        // else{
        //     edit.style.display='block';
        //     action.style.display='none';
        // }
        setActiveClass(this.parentElement);
      });
    </script>
  </body>
</html>
